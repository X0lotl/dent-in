<script>
import { useHead } from '@vueuse/head'
import { useRoute } from 'vue-router'
export default {
  name: "LanguagePicker",
  setup() {
    const route = useRoute()
    const host = "https://dent-in.com.ua"
    useHead({
      title: "–°—Ç–æ–º–∞—Ç–æ–ª–æ–≥—ñ—á–Ω–∏–π —Ü–µ–Ω—Ç—Ä ¬´–î–µ–Ω—Ç- —ñ–Ω¬ª",
      meta: [
        {
          name: "description",
          content: "–í–∏—â–∏–π –ø—ñ–ª–æ—Ç–∞–∂ —É —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥—ñ—ó. –ú–∏ –ø—Ä–∞—Ü—é—î–º–æ –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –æ–±–∏—Ä–∞—î –Ω–∞–π–∫—Ä–∞—â–µ!"
        },
        {
          name: "og:description",
          content: "–í–∏—â–∏–π –ø—ñ–ª–æ—Ç–∞–∂ —É —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥—ñ—ó. –ú–∏ –ø—Ä–∞—Ü—é—î–º–æ –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ –æ–±–∏—Ä–∞—î –Ω–∞–π–∫—Ä–∞—âe!"
        },
        {
          name: "og:locale",
          content: route.params.locale
        },
        {
          name: "og:image",
          content: "https://res.cloudinary.com/dprrzla0s/image/upload/v1675470792/logo1_31c28b0c41.webp?updated_at=2023-02-04T00:33:13.405Z"
        },
        {
          name: "og:title",
          content: "–°—Ç–æ–º–∞—Ç–æ–ª–æ–≥—ñ—á–Ω–∏–π —Ü–µ–Ω—Ç—Ä ¬´–î–µ–Ω—Ç- —ñ–Ω¬ª"
        },
        {
          name: "og:type",
          content: "website"
        },
        {
          name: "og:url",
          content: host + route.fullPath
        }

      ],
      "link": [
        {
          rel: "canonical",
          href: host + "/" + route.params.locale + "/"
        },
        {
          rel: "alternate",
          href: host + route.fullPath
        }
      ]
    })
  },
  data() {
    return { selected: "uk" };
  },
  watch: {
    '$route.params.locale': {
      handler: function(newLocale) {
        this.selected = newLocale
      },
      immediate: true
    }
  },
  methods: {
    changeLanguage(e) {
      this.$router.push({
        // path: `/${e.target.value}`,
        name: this.$route.name,
        params: {
          locale: e.target.value
        }
      });
    },
  }
};
</script>
<template>
  <select
    :value="selected"
    class="bg-transparent m-6 text-blue-500 font-sans font-bold lg:text-lg text-base appearance-none"
    @change="changeLanguage($event)"
  >
    <option value="uk">
      üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞
    </option>
    <option value="en">
      üá¨üáß English
    </option>
  </select>
</template>
